<!DOCTYPE html>
<html lang="en">
	<head>

		<!--
		  ____  _               ____
		 |  _ \(_)_ __   __ _  |  _ \ ___  _ __   __ _
		 | |_) | | '_ \ / _` | | |_) / _ \| '_ \ / _` |
		 |  __/| | | | | (_| | |  __/ (_) | | | | (_| |
		 |_|   |_|_| |_|\__, | |_|   \___/|_| |_|\__, |
		                |___/                    |___/
		-->

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		{% if "office" in session %}<meta name="office" content="{{ session.office.id }}">{% endif %}
		{% if config.DEBUG_TOOLS %}<meta name="debug" content="true">{% endif %}

		<title>Ping Pong{% if request.endpoint != "mainController.index" %} | {% endif %}{% block title %}{% endblock %}</title>
		<link rel="shortcut icon" href="{{ url_for('static', filename = 'images/ping-pong-icon.png') }}" type="image/x-icon" />
		<link href="{{ url_for('static', filename = 'libraries/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">
		{% assets "css_all" %}
			<link href="{{ ASSET_URL }}" rel="stylesheet">
		{% endassets %}

	</head>
	<body class="{{ request.endpoint|lower|replace('.', '-') }} {% if config.DEBUG_TOOLS %}debug{% endif %}">

		{% if request.endpoint != 'officeController.select' %}
			{% if current_user.is_authenticated %}
				<div class="authentication authenticated">
					<a href="{{ url_for('adminController.index') }}">Administrator</a>
					<a href="{{ url_for('authenticationController.logout', next = request.path) }}" class="link">Logout</a>
				</div>
			{% else %}
				<div class="authentication unauthenticated">
					<a href="{{ url_for('authenticationController.login', next = request.path) }}" class="link">Login</a>
				</div>
			{% endif %}
		{% endif %}

		<header>
			<a href="{{ url_for('mainController.index') }}">Ping Pong</a>
		</header>

		{% include 'partials/messages.html' %}

		{% block body %}{% endblock %}

		{% if not (request.endpoint.startswith('officeController') or request.endpoint.startswith('apiController')) %}
			{% include 'offices/selector.html' %}
		{% endif %}

		<a href="/change-log" class="change-log-link">Change Log</a>

		{% assets "js_all" %}
			<script type="text/javascript" src="{{ ASSET_URL }}"></script>
		{% endassets %}

		{% block footer %}{% endblock %}

		<!--
		   ____                _           _   ____          ____           _   _     __  __
		  / ___|_ __ ___  __ _| |_ ___  __| | | __ ) _   _  | __ ) _ __ ___| |_| |_  |  \/  | ___ _   _  ___ _ __
		 | |   | '__/ _ \/ _` | __/ _ \/ _` | |  _ \| | | | |  _ \| '__/ _ \ __| __| | |\/| |/ _ \ | | |/ _ \ '__|
		 | |___| | |  __/ (_| | ||  __/ (_| | | |_) | |_| | | |_) | | |  __/ |_| |_  | |  | |  __/ |_| |  __/ |
		  \____|_|  \___|\__,_|\__\___|\__,_| |____/ \__, | |____/|_|  \___|\__|\__| |_|  |_|\___|\__, |\___|_|
		                                             |___/                                        |___/
		-->

	</body>
</html>
