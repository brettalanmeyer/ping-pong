
{% extends "layout.html" %}

{% block title %}Previous Matches{% endblock %}

{% block body %}

	<div class="container">

		<h1>Previous Matches</h1>

		<table class="table">

			<thead>

				<tr>

					<th>Date</th>
					<th>Type</th>
					<th>Games</th>
					<th>Points</th>
					<th>Teams</th>
					<th></th>
					<th></th>

				</tr>

			</thead>

			<tbody>

				{% for match in matches %}

						<tr>

							<td>{{ "{:%b %d, %Y %I:%M %p} ".format(match.createdAt) }}</td>
							<td>{{ match.matchType.title() }}</td>
							<td>
								{% if match.numOfGames != None %}
									{{ match.numOfGames }}
								{% endif %}
							</td>
							<td>{{ match.playTo }}</td>

							<td>
								{% for team in match.teams %}
									{% for teamPlayer in team.teamPlayers %}
										{{ teamPlayer.player.name }}
									{% endfor %}
								{% endfor %}
							</td>

							<td>
								{% for game in match.games %}
									{% if game.completedAt != None %}
										{{ game.winnerScore }}/{{ game.loserScore }}
									{% endif %}
								{% endfor %}
							</td>

							<td>
								<a href="/matches/{{ match.id }}" class="btn btn-default">View Match</a>
							</td>

						</tr>

				{% endfor %}

			</tbody>

		</table>

		{% with url = "/matches/page", paging = paging %}
			{% include 'partials/pagination.html' %}
		{% endwith %}

	</div>

{% endblock %}
