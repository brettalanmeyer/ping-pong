{% extends "layout.html" %}

{% block title %}API{% endblock %}

{% block body %}

<div id="api" class="container api-container">

	<h1>
		<a href="{{ url_for('apiController.index') }}">Ping Pong API</a>
	</h1>

	<section>

		<code>GET</code>
		<kbd>/api/players.json?key={% raw %}{key}{% endraw %}</kbd>

		<div class="response success">Success Response <code>200</code> OK</div>
<pre>[{
	id: 161,
	name: "Joey",
	avatar: "d159f9f9-e19d-43bb-8d11-a167208bf5cf.gif",
	extension: "gif",
	avatarUrl: "/players/6153/avatar/d159f9f9-e19d-43bb-8d11-a167208bf5cf.gif",
	enabled: true,
	createdAt: '2016-01-01 12:01:01',
	modifiedAt: '2016-01-01 13:01:01'
}]</pre>

	<div class="response error">Error Response <code>401</code> Unauthorized</div>
	<pre>{
	"success": false,
	"error": "Invalid api key"
}</pre>

	</section>
	<section>

	<code>GET</code>
	<kbd>/api/matches.json?key={% raw %}{key}{% endraw %}</kbd>
	<div class="response success">Success Response <code>200</code> OK</div>

<pre>[{
	"id": 2770,
	"matchType": "singles",
	"playTo": 21,
	"numOfGames": 3,
	"game": 3,
	"ready": 1,
	"complete": 1,
	"completedAt": "2017-05-19 16:06:57",
	"modifiedAt": "2017-05-19 16:06:57",
	"createdAt": "2017-05-19 16:02:59"
}]</pre>

	<div class="response error">Error Response <code>401</code> Unauthorized</div>
	<pre>{
	"success": false,
	"error": "Invalid api key"
}</pre>

	</section>
	<section>

	<code>GET</code>
	<kbd>/api/matches/{% raw %}{matchid}{% endraw %}.json?key={% raw %}{key}{% endraw %}</kbd>
	<div class="response success">Success Response <code>200</code> OK</div>

<pre>{
	"id": 2765,
	"matchType": "singles",
	"playTo": 21
	"numOfGames": 1,
	"game": 1,
	"complete": 1,
	"ready": 0,
	"createdAt": "2017-05-19 14:44:07",
	"modifiedAt": "2017-05-19 15:06:31",
	"completedAt": "2017-05-19 15:06:31",
	"teams": [{
		"id": 5801,
		"win": false,
		"modifiedAt": "2017-05-19 15:06:31",
		"createdAt": "2017-05-19 14:44:11",
		"players": [{
			"id": 42,
			"name": "Thomas"
		}]
	}, {
		"win": true,
		"modifiedAt": "2017-05-19 15:06:31",
		"id": 5802,
		"createdAt": "2017-05-19 14:44:11",
		"players": [{
			"id": 40,
			"name": "Brett"
		}]
	}],
	"games": [{
		"id": 6108,
		"game": 1,
		"green": {
			"id": 42,
			"name": "Thomas"
		},
		"yellow": {
			"id": 40,
			"name": "Brett"
		},
		"red": null,
		"blue": null,
		"scores": [{
			"id": 183229,
			"createdAt": "2017-05-19 14:46:29"
		}, {
			"id": 183230,
			"createdAt": "2017-05-19 14:46:46"
		}, {
			"id": 183231,
			"createdAt": "2017-05-19 14:46:57"
		}],
		"winnerScore": 21,
		"winner": 5802,
		"loserScore": 19,
		"loser": 5802,
		"createdAt": "2017-05-19 14:44:11",
		"completedAt": "2017-05-19 14:53:04",
		"modifiedAt": "2017-05-19 14:53:04"
	}]
}</pre>

	<div class="response error">Error Response <code>401</code> Unauthorized</div>
	<pre>{
	"success": false,
	"error": "Invalid api key"
}</pre>

	<div class="response error">Error Response <code>404</code> Not Found</div>
	<pre>{
	"success": false,
	"error": "Invalid match id"
}</pre>

	</section>
	<section>


	<code>GET</code>
	<kbd>/api/isms.json?key={% raw %}{key}{% endraw %}</kbd>
	<div class="response success">Success Response <code>200</code> OK</div>

<pre>[{
	"id": 1,
	"approved": true,
	"saying": "Kwik-E-Mart",
	"left": 7
	"right": 11,
	"createdAt": "2017-03-02 10:52:00",
	"modifiedAt": "2017-03-24 14:20:00"
}]</pre>

	<div class="response error">Error Response <code>401</code> Unauthorized</div>
	<pre>{
	"success": false,
	"error": "Invalid api key"
}</pre>

	</section>
	<section>


	<code>POST</code>
	<kbd>/api/buttons/{% raw %}{button}{% endraw %}/score</kbd>

	<div class="response">Data Params</div>
<pre>{
	"button": [string:green|yellow|blue|red],
	"key": [string:provided by administrator]
}</pre>

<div class="response success">Success Response <code>200</code> OK</div>
<pre>{
	"matchId": 123,
	"action": "score",
	"button": "green",
	"officeId": 1,
	"officeName": "Ames, Iowa"
}</pre>

	<div class="response error">Error Response <code>401</code> Unauthorized</div>
	<pre>{
	"success": false,
	"error": "Invalid api key"
}</pre>

	</section>
	<section>

	<code>POST</code>
	<kbd>/api/buttons/{% raw %}{button}{% endraw %}/undo</kbd>
	<div class="response">Data Params</div>
<pre>{
	"button": [string:green|yellow|blue|red],
	"key": [string:provided by administrator]
}</pre>
	<div class="response success">Success Response <code>200</code> OK</div>

<pre>{
	"matchId": 234,
	"action": "undo",
	"button": "green",
	"officeId": 1,
	"officeName": "Ames, Iowa"
}</pre>

	<div class="response error">Error Response <code>401</code> Unauthorized</div>
	<pre>{
	"success": false,
	"error": "Invalid api key"
}</pre>

	</section>

	</div>

{% endblock %}
