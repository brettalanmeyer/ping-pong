<!DOCTYPE html>
<html>
	<head>
		<title>Buttons</title>
		<style>

			body {
				overflow: hidden;
			}

			.team {
				float: left;
			}

			.team:first-child {
				margin-right: 4px;
			}

			button {
				display: block;
				width: 44px;
				cursor: pointer;
				border: solid 1px #ccc;
				border-radius: 4px;
				padding: 5px;
				color: white;
				margin: auto;
			}

			button:nth-child(2n){
				margin-bottom: 4px;
			}

			button.red {
				background: red;
			}

			button.green {
				background: green;
			}

			button.blue {
				background: blue;
			}

			button.yellow {
				background: yellow;
				color: black;
			}

			button.wide-action {
				width: 100%;
				margin-bottom: 4px;
			}

			button.delete-all {
				background: orange;
			}

			button.random-score {
				background: mediumseagreen;
			}

			button.random-undo {
				background: steelblue;
			}

			button.auto-score {
				background: maroon;
			}

		</style>

	</head>
	<body>

		<div class="team">

			<button class="yellow" data-color="yellow" data-action="score">score</button>
			<button class="yellow" data-color="yellow" data-action="undo">undo</button>

			<button class="blue" data-color="blue" data-action="score">score</button>
			<button class="blue" data-color="blue" data-action="undo">undo</button>

		</div>

		<div class="team">

			<button class="green" data-color="green" data-action="score">score</button>
			<button class="green" data-color="green" data-action="undo">undo</button>

			<button class="red" data-color="red" data-action="score">score</button>
			<button class="red" data-color="red" data-action="undo">undo</button>

		</div>

		<button class="random-score wide-action">random score</button>
		<button class="random-undo wide-action">random undo</button>
		<button class="auto-score wide-action">auto score</button>
		<button class="delete-all wide-action" data-color="none" data-action="delete-scores">delete scores</button>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script>

			var interval = null;

			$(function(){

				$("button[data-action=score], button[data-action=undo]").on("click", function(){
					var button = $(this);
					$.post("/buttons/" + button.data("color") + "/" + button.data("action"));
				});

				$(".random-score").on("click", function(){
					$("button[data-action=score]").eq(rand()).click();
				});

				$(".random-undo").on("click", function(){
					$("button[data-action=undo]").eq(rand()).click();
				});

				$(".auto-score").on("click", function(){
					if(interval == null){
						interval = setInterval(function(){
							$("button[data-action=score]").eq(rand()).click();
						}, 100);
					} else {
						clearInterval(interval)
						interval = null;
					}
				});

				function rand(){
					return Math.floor(Math.random() * 4);
				}

			});

		</script>

	</body>
</html>
